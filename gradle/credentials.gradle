def setExtValue(String property, String systemEnv) {
    project.ext."$property" = project.hasProperty(property) ? project.getProperty(property) :
                              System.getenv(systemEnv)
}

static validateSystemEnv(String systemEnv) {

    if (System.getenv(systemEnv) == null) {
        throw new InvalidUserDataException(
                "The system enviroment variable " + systemEnv + " does not exists!")
    }
    return systemEnv
}

setExtValue('bintrayUser', 'BINTRAY_USER')
setExtValue('bintrayKey', 'BINTRAY_KEY')
setExtValue('ghToken', 'GH_TOKEN')
setExtValue('sonarHostUrl', 'SONAR_HOST_URL')
setExtValue('sonarLogin', 'SONAR_LOGIN')

